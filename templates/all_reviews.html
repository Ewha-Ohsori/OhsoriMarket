{% block main %}
<main>
  <style>
    /* Flexbox를 활용한 레이아웃 */
    .review-content {
      display: flex;
      align-items: center; /* 수직 가운데 정렬 */
      padding: 10px;
      border-bottom: 1px solid #ddd; /* 리뷰 간 구분선 */
    }

    .review-image {
      flex: 0 0 120px; /* 이미지가 고정된 크기를 갖도록 설정 */
      margin-right: 20px; /* 이미지와 리뷰 정보 간의 간격 */
    }

    .review-thumbnail {
      width: 120px; /* 이미지 너비 */
      height: 120px; /* 이미지 높이 */
      object-fit: cover; /* 이미지 비율 유지 */
      border-radius: 8px; /* 약간 둥근 테두리 */
    }

    .review-details {
      flex: 1; /* 나머지 공간을 채움 */
    }

    .review-details p {
      margin: 5px 0; /* 리뷰 정보 항목 간의 간격 */
    }
  </style>

  <div class="review-overview-container">
    <h2>리뷰 전체 조회</h2>
    <ul class="review-items">
      {% for key, review in reviews %}
        <!-- 리뷰 항목을 클릭하면 개별 리뷰 페이지로 이동 -->
        <a href="{{ url_for('view_review', name=key) }}" class="review-item">
          <li class="review-item">
            <div class="review-content">
              <!-- 왼쪽: 이미지 -->
              <div class="review-image">
                <img src="{{ url_for('static', filename='images/' + review.img_path) }}" alt="{{ key }}" class="review-thumbnail">
              </div>
              <!-- 오른쪽: 리뷰 정보 -->
              <div class="review-details">
                <p><strong>상품명:</strong> {{ key }}</p>
                <p><strong>제목:</strong> {{ review.title }}</p>
                <p><strong>리뷰 내용:</strong> {{ review.review }}</p>
                <p><strong>평점:</strong> {{ review.rate }}</p>
                <p><strong>작성자:</strong> {{ review.buyerId }}</p>
                <p><strong>작성 시간:</strong> {{ review.review_time }}</p>
              </div>
            </div>
          </li>
        </a>
      {% endfor %}
    </ul>
    
    <!-- Pagination -->
    <div class="pagination">
      <div class="arrow-group-left">
        {% if page > 0 %}
        <a href="{{ url_for('all_reviews', page=page-1) }}" class="prev-page">이전</a>
        {% endif %}
      </div>
      
      {% for i in range(page_count) %}
      <a href="{{ url_for('all_reviews', page=i) }}" class="page-number {% if i == page %}active{% endif %}">
        {{ i + 1 }}
      </a>
      {% endfor %}
      
      <div class="arrow-group-right">
        {% if page < page_count - 1 %}
        <a href="{{ url_for('all_reviews', page=page+1) }}" class="next-page">다음</a>
        {% endif %}
      </div>
    </div>
  </div>
</main>
{% endblock %}
